<!doctype html>

    <script type="text/javascript" src="/js/src/canvas-nest.min.js"></script>

  


  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="JpX3qo5AV2fwlwZIIykIel2sN9ZNCBtbcaGICxVbmsk" />










  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="区块链,以太坊,智能合约," />





  <link rel="alternate" href="/atom.xml" title="haohao" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="在自己的私有链上部署智能合约
上节简单介绍了基于以太坊搭建私有链以及挖矿和交易，在部署智能合约之前请确保私有链上的账户有余额，因为部署智能合约需要消耗 Gas ，而 Gas 需要 ether 币来兑换。
智能合约什么是智能合约（Smart Contract）？智能合约是存储在以太坊网络特定地址的一组代码和数据集。在以太坊网络中智能合约以以太坊虚拟机（EVM）字节码的形式存在，由以太坊虚拟机解释执">
<meta property="og:type" content="article">
<meta property="og:title" content="在以太坊私有链上部署智能合约">
<meta property="og:url" content="https://githubhaohao.github.io/2018/10/07/Deploy-smart-contracts-on-the-Ethereum-private-chain/index.html">
<meta property="og:site_name" content="haohao">
<meta property="og:description" content="在自己的私有链上部署智能合约
上节简单介绍了基于以太坊搭建私有链以及挖矿和交易，在部署智能合约之前请确保私有链上的账户有余额，因为部署智能合约需要消耗 Gas ，而 Gas 需要 ether 币来兑换。
智能合约什么是智能合约（Smart Contract）？智能合约是存储在以太坊网络特定地址的一组代码和数据集。在以太坊网络中智能合约以以太坊虚拟机（EVM）字节码的形式存在，由以太坊虚拟机解释执">
<meta property="og:image" content="http://ow23qx875.bkt.clouddn.com/cover_20181006.jpg">
<meta property="og:image" content="http://pg12w9eve.bkt.clouddn.com/contract_browser.png">
<meta property="og:image" content="http://pg12w9eve.bkt.clouddn.com/contract_bytecode.png">
<meta property="og:image" content="http://pg12w9eve.bkt.clouddn.com/mist_dep_code.png">
<meta property="og:image" content="http://pg12w9eve.bkt.clouddn.com/mist_deping.png">
<meta property="og:image" content="http://pg12w9eve.bkt.clouddn.com/mist_deping_2.png">
<meta property="og:image" content="http://pg12w9eve.bkt.clouddn.com/mist_dep_success.png">
<meta property="og:image" content="http://pg12w9eve.bkt.clouddn.com/mist_mint.png">
<meta property="og:updated_time" content="2018-10-07T09:21:38.570Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="在以太坊私有链上部署智能合约">
<meta name="twitter:description" content="在自己的私有链上部署智能合约
上节简单介绍了基于以太坊搭建私有链以及挖矿和交易，在部署智能合约之前请确保私有链上的账户有余额，因为部署智能合约需要消耗 Gas ，而 Gas 需要 ether 币来兑换。
智能合约什么是智能合约（Smart Contract）？智能合约是存储在以太坊网络特定地址的一组代码和数据集。在以太坊网络中智能合约以以太坊虚拟机（EVM）字节码的形式存在，由以太坊虚拟机解释执">
<meta name="twitter:image" content="http://ow23qx875.bkt.clouddn.com/cover_20181006.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://githubhaohao.github.io/2018/10/07/Deploy-smart-contracts-on-the-Ethereum-private-chain/"/>





  <title> 在以太坊私有链上部署智能合约 | haohao </title>
  <meta name="google-site-verification" content="JpX3qo5AV2fwlwZIIykIel2sN9ZNCBtbcaGICxVbmsk" />
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta custom-logo">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">haohao</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">不忘初心</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-github">
          <a href="https://github.com/githubhaohao" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-github-alt"></i> <br />
            
            GitHub
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/me" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://githubhaohao.github.io/2018/10/07/Deploy-smart-contracts-on-the-Ethereum-private-chain/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="haohao">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/17926884?v=3&s=460">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="haohao">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="haohao" src="https://avatars2.githubusercontent.com/u/17926884?v=3&s=40">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                在以太坊私有链上部署智能合约
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-07T15:29:46+08:00">
                2018-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/区块链/" itemprop="url" rel="index">
                    <span itemprop="name">区块链</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/07/Deploy-smart-contracts-on-the-Ethereum-private-chain/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count fb-comments-count" data-href="https://githubhaohao.github.io/2018/10/07/Deploy-smart-contracts-on-the-Ethereum-private-chain/" itemprop="commentCount">0</span> comments
                </a>
              </span>
            
          

          

          
          
             <span id="/2018/10/07/Deploy-smart-contracts-on-the-Ethereum-private-chain/" class="leancloud_visitors" data-flag-title="在以太坊私有链上部署智能合约">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p></p><p align="center"><img src="http://ow23qx875.bkt.clouddn.com/cover_20181006.jpg" alt="Markdown"></p><p></p>
<p><div align="center">在自己的私有链上部署智能合约</div><br></p>
<p>上节简单介绍了<a href="http://haohaochang.cn/2018/10/02/Building-a-private-chain-based-on-Ethereum/" target="_blank" rel="external">基于以太坊搭建私有链以及挖矿和交易</a>，在部署智能合约之前请确保私有链上的账户有余额，因为部署智能合约需要消耗 Gas ，而 Gas 需要 ether 币来兑换。</p>
<h2 id="智能合约"><a href="#智能合约" class="headerlink" title="智能合约"></a>智能合约</h2><p>什么是智能合约（Smart Contract）？智能合约是存储在以太坊网络特定地址的一组代码和数据集。在以太坊网络中智能合约以以太坊虚拟机（EVM）字节码的形式存在，由以太坊虚拟机解释执行。用于编写智能合约常用的语言有 Solidity 、Serpent 以及 LLL ，其中最著名的就是 Solidity 。智能合约的部署和执行都需要费用（Gas）,一旦部署便不能修改。</p>
<h2 id="部署智能合约"><a href="#部署智能合约" class="headerlink" title="部署智能合约"></a>部署智能合约</h2><p>部署智能合约可以使用以太坊命令行客户端（Geth Console）和 Mist 。</p>
<p>选用 Solidity 官网的例子 Coin 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">pragma solidity ^<span class="number">0.4</span>.0;</div><div class="line">contract Coin &#123;</div><div class="line">    <span class="comment">// The keyword "public" makes those variables</span></div><div class="line">    <span class="comment">// easily readable from outside.</span></div><div class="line">    address <span class="keyword">public</span> minter;</div><div class="line">    mapping (address =&gt; uint) <span class="keyword">public</span> balances;</div><div class="line"></div><div class="line">    <span class="comment">// Events allow light clients to react to</span></div><div class="line">    <span class="comment">// changes efficiently.</span></div><div class="line">    <span class="function">event <span class="title">Sent</span><span class="params">(address from, address to, uint amount)</span></span>;</div><div class="line"></div><div class="line">    <span class="comment">// This is the constructor whose code is</span></div><div class="line">    <span class="comment">// run only when the contract is created.</span></div><div class="line">    constructor() <span class="keyword">public</span> &#123;</div><div class="line">        minter = msg.sender;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function">function <span class="title">mint</span><span class="params">(address receiver, uint amount)</span> <span class="keyword">public</span> </span>&#123;</div><div class="line">        require(msg.sender == minter);</div><div class="line">        require(amount &lt; <span class="number">1e60</span>);</div><div class="line">        balances[receiver] += amount;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function">function <span class="title">send</span><span class="params">(address receiver, uint amount)</span> <span class="keyword">public</span> </span>&#123;</div><div class="line">        require(amount &lt;= balances[msg.sender], <span class="string">"Insufficient balance."</span>);</div><div class="line">        balances[msg.sender] -= amount;</div><div class="line">        balances[receiver] += amount;</div><div class="line">        <span class="function">emit <span class="title">Sent</span><span class="params">(msg.sender, receiver, amount)</span></span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="以太坊命令行客户端部署"><a href="#以太坊命令行客户端部署" class="headerlink" title="以太坊命令行客户端部署"></a>以太坊命令行客户端部署</h3><p>打开网站<a href="https://remix.ethereum.org" target="_blank" rel="external">https://remix.ethereum.org</a>，将上面的智能合约代码替换为 Coin 的例子。</p>
<p><img src="http://pg12w9eve.bkt.clouddn.com/contract_browser.png" alt="contract_browser"></p>
<p>然后选择 <code>Compile</code> ，点击 <code>Start to compile</code> 生成 EVM 的字节码，复制生成的 <code>ABI</code> 和 <code>ByteCode</code> 。</p>
<p><img src="http://pg12w9eve.bkt.clouddn.com/contract_bytecode.png" alt="contract_bytecode"></p>
<p>ABI:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"constant"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"inputs"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"name"</span>: <span class="string">"receiver"</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"address"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"name"</span>: <span class="string">"amount"</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"uint256"</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        <span class="attr">"name"</span>: <span class="string">"mint"</span>,</div><div class="line">        <span class="attr">"outputs"</span>: [],</div><div class="line">        <span class="attr">"payable"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"stateMutability"</span>: <span class="string">"nonpayable"</span>,</div><div class="line">        <span class="attr">"type"</span>: <span class="string">"function"</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"constant"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"inputs"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"name"</span>: <span class="string">"receiver"</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"address"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"name"</span>: <span class="string">"amount"</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"uint256"</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        <span class="attr">"name"</span>: <span class="string">"send"</span>,</div><div class="line">        <span class="attr">"outputs"</span>: [],</div><div class="line">        <span class="attr">"payable"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"stateMutability"</span>: <span class="string">"nonpayable"</span>,</div><div class="line">        <span class="attr">"type"</span>: <span class="string">"function"</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"anonymous"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"inputs"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"indexed"</span>: <span class="literal">false</span>,</div><div class="line">                <span class="attr">"name"</span>: <span class="string">"from"</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"address"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"indexed"</span>: <span class="literal">false</span>,</div><div class="line">                <span class="attr">"name"</span>: <span class="string">"to"</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"address"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"indexed"</span>: <span class="literal">false</span>,</div><div class="line">                <span class="attr">"name"</span>: <span class="string">"amount"</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"uint256"</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        <span class="attr">"name"</span>: <span class="string">"Sent"</span>,</div><div class="line">        <span class="attr">"type"</span>: <span class="string">"event"</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"inputs"</span>: [],</div><div class="line">        <span class="attr">"payable"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"stateMutability"</span>: <span class="string">"nonpayable"</span>,</div><div class="line">        <span class="attr">"type"</span>: <span class="string">"constructor"</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"constant"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"inputs"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"name"</span>: <span class="string">""</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"address"</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        <span class="attr">"name"</span>: <span class="string">"balances"</span>,</div><div class="line">        <span class="attr">"outputs"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"name"</span>: <span class="string">""</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"uint256"</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        <span class="attr">"payable"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"stateMutability"</span>: <span class="string">"view"</span>,</div><div class="line">        <span class="attr">"type"</span>: <span class="string">"function"</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"constant"</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">"inputs"</span>: [],</div><div class="line">        <span class="attr">"name"</span>: <span class="string">"minter"</span>,</div><div class="line">        <span class="attr">"outputs"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"name"</span>: <span class="string">""</span>,</div><div class="line">                <span class="attr">"type"</span>: <span class="string">"address"</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        <span class="attr">"payable"</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">"stateMutability"</span>: <span class="string">"view"</span>,</div><div class="line">        <span class="attr">"type"</span>: <span class="string">"function"</span></div><div class="line">    &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<p>ByteCode， 其中 object 字段对应的就是就是我们需要的 EVM 字节码（下面只贴出来部分代码）:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">	"linkReferences": &#123;&#125;,</div><div class="line">	"object": "608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506104df806100606000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806307546172146...",</div><div class="line">	"opcodes": "PUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH2 0x10 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP CALLER PUSH1 0x0 DUP1 PUSH2 0x100 EXP DUP2 SLOAD DUP2 PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF MUL NOT AND SWAP1 DUP4 PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND MUL OR SWAP1 SSTORE POP PUSH2 0x4DF DUP1 PUSH2 0x60 PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN STOP PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT PUSH2 0x62 JUMPI</div><div class="line">    ...",</div><div class="line">	"sourceMap": "24:902:0:-;;;427:57;8:9:-1;5:2;;;30:1;27;20:12;5:2;427:57:0;467:10;458:6;;:19;;;;;;;;;;;;;;;;;;24:902;;;;;;"</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>另外 ABI 需要转义成字符串，使用网站<a href="http://www.bejson.com" target="_blank" rel="external">http://www.bejson.com</a>， 选择【删除空格并转义】。<br>转义成字符串的 ABI ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[&#123;\&quot;constant\&quot;:false,\&quot;inputs\&quot;:[&#123;\&quot;name\&quot;:\&quot;receiver\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;,&#123;\&quot;name\&quot;:\&quot;amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;name\&quot;:\&quot;mint\&quot;,\&quot;outputs\&quot;:[],\&quot;payable\&quot;:false,\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;constant\&quot;:false,\&quot;inputs\&quot;:[&#123;\&quot;name\&quot;:\&quot;receiver\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;,&#123;\&quot;name\&quot;:\&quot;amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;name\&quot;:\&quot;send\&quot;,\&quot;outputs\&quot;:[],\&quot;payable\&quot;:false,\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;anonymous\&quot;:false,\&quot;inputs\&quot;:[&#123;\&quot;indexed\&quot;:false,\&quot;name\&quot;:\&quot;from\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;,&#123;\&quot;indexed\&quot;:false,\&quot;name\&quot;:\&quot;to\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;,&#123;\&quot;indexed\&quot;:false,\&quot;name\&quot;:\&quot;amount\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;name\&quot;:\&quot;Sent\&quot;,\&quot;type\&quot;:\&quot;event\&quot;&#125;,&#123;\&quot;inputs\&quot;:[],\&quot;payable\&quot;:false,\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;constructor\&quot;&#125;,&#123;\&quot;constant\&quot;:true,\&quot;inputs\&quot;:[&#123;\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;],\&quot;name\&quot;:\&quot;balances\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;payable\&quot;:false,\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;constant\&quot;:true,\&quot;inputs\&quot;:[],\&quot;name\&quot;:\&quot;minter\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;],\&quot;payable\&quot;:false,\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;]</div></pre></td></tr></table></figure>
<p>通过 Geth Console 创建合约对象。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div></pre></td><td class="code"><pre><div class="line">// 声明合约 coin</div><div class="line">&gt; var abi = JSON.parse(<span class="string">'[&#123;\"constant\":false,\"inputs\":[&#123;\"name\":\"receiver\",\"type\":\"address\"&#125;,&#123;\"name\":\"amount\",\"type\":\"uint256\"&#125;],\"name\":\"mint\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"&#125;,&#123;\"constant\":false,\"inputs\":[&#123;\"name\":\"receiver\",\"type\":\"address\"&#125;,&#123;\"name\":\"amount\",\"type\":\"uint256\"&#125;],\"name\":\"send\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"&#125;,&#123;\"anonymous\":false,\"inputs\":[&#123;\"indexed\":false,\"name\":\"from\",\"type\":\"address\"&#125;,&#123;\"indexed\":false,\"name\":\"to\",\"type\":\"address\"&#125;,&#123;\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"&#125;],\"name\":\"Sent\",\"type\":\"event\"&#125;,&#123;\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"&#125;,&#123;\"constant\":true,\"inputs\":[&#123;\"name\":\"\",\"type\":\"address\"&#125;],\"name\":\"balances\",\"outputs\":[&#123;\"name\":\"\",\"type\":\"uint256\"&#125;],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"&#125;,&#123;\"constant\":true,\"inputs\":[],\"name\":\"minter\",\"outputs\":[&#123;\"name\":\"\",\"type\":\"address\"&#125;],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"&#125;]'</span>)</div><div class="line">&gt; coin = web3.eth.contract(abi)</div><div class="line"></div><div class="line">// 需要为字节码添加，<span class="string">'0x'</span> 前缀。</div><div class="line">&gt; byteCode = <span class="string">"0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506104df80610060600039</span></div><div class="line">6000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063075461721461006757806327e235e3146100be57806340c10f1914610115578063d0679d34146101</div><div class="line">..."</div><div class="line"></div><div class="line"><span class="string">"0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506104df806100606000396000f30060806</span></div><div class="line">0405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063075461721461006757806327e235e3146100be57806340c10f19146101..."</div><div class="line">// 就是部署智能合约需要的燃料（Gas）值。</div><div class="line">&gt; eth.estimateGas(&#123;data: byteCode&#125;)</div><div class="line">406661</div><div class="line">// 我们输入的燃料值需要大于 406661 </div><div class="line">&gt;</div><div class="line">// 解锁 coinbase 账户</div><div class="line">&gt; personal.unlockAccount(eth.coinbase)</div><div class="line">Unlock account 0x33213084015dab454fee16eb369fa2a8e6e65eee</div><div class="line">Passphrase:</div><div class="line"><span class="literal">true</span></div><div class="line"></div><div class="line">// 创建 coin 合约对象，部署合约</div><div class="line">&gt; coinContractIns = coin.new(&#123;data: byteCode gas: 410000, from: eth.coinbase&#125;, <span class="keyword">function</span>(e, contract)&#123;</div><div class="line">  <span class="keyword">if</span>(!e)&#123;</div><div class="line">    <span class="keyword">if</span>(!contract.address)&#123;</div><div class="line">      console.log(<span class="string">"Contract transaction send: Transaction Hash: "</span>+contract.transactionHash+<span class="string">" waiting to be mined..."</span>);</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">      console.log(<span class="string">"Contract mined! Address: "</span> + contract.address);</div><div class="line">      console.log(contract);</div><div class="line">    &#125;</div><div class="line">  &#125;<span class="keyword">else</span>&#123;</div><div class="line">    console.log(e)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">INFO [10-07|12:19:00.077] Submitted contract creation              fullhash=0x114e241d2a62064b0d41ec143c595768f648306595a931563a3add4cee3c2d77 contract=0x7227255a42b167061B4260A0b1827e3E6F737905</div><div class="line">Contract transaction send: Transaction Hash: 0x114e241d2a62064b0d41ec143c595768f648306595a931563a3add4cee3c2d77 waiting to be mined...</div><div class="line">&#123;</div><div class="line">  abi: [&#123;</div><div class="line">      constant: <span class="literal">false</span>,</div><div class="line">      inputs: [&#123;...&#125;, &#123;...&#125;],</div><div class="line">      name: <span class="string">"mint"</span>,</div><div class="line">      outputs: [],</div><div class="line">      payable: <span class="literal">false</span>,</div><div class="line">      stateMutability: <span class="string">"nonpayable"</span>,</div><div class="line">      <span class="built_in">type</span>: <span class="string">"function"</span></div><div class="line">  &#125;, &#123;</div><div class="line">      constant: <span class="literal">false</span>,</div><div class="line">      inputs: [&#123;...&#125;, &#123;...&#125;],</div><div class="line">      name: <span class="string">"send"</span>,</div><div class="line">      outputs: [],</div><div class="line">      payable: <span class="literal">false</span>,</div><div class="line">      stateMutability: <span class="string">"nonpayable"</span>,</div><div class="line">      <span class="built_in">type</span>: <span class="string">"function"</span></div><div class="line">  &#125;, &#123;</div><div class="line">      anonymous: <span class="literal">false</span>,</div><div class="line">      inputs: [&#123;...&#125;, &#123;...&#125;, &#123;...&#125;],</div><div class="line">      name: <span class="string">"Sent"</span>,</div><div class="line">      <span class="built_in">type</span>: <span class="string">"event"</span></div><div class="line">  &#125;, &#123;</div><div class="line">      inputs: [],</div><div class="line">      payable: <span class="literal">false</span>,</div><div class="line">      stateMutability: <span class="string">"nonpayable"</span>,</div><div class="line">      <span class="built_in">type</span>: <span class="string">"constructor"</span></div><div class="line">  &#125;, &#123;</div><div class="line">      constant: <span class="literal">true</span>,</div><div class="line">      inputs: [&#123;...&#125;],</div><div class="line">      name: <span class="string">"balances"</span>,</div><div class="line"></div><div class="line">// coin 合约并没有部署成功，需要启动挖矿</div><div class="line">&gt; miner.start();</div><div class="line">&gt; // 等待约 12 以上区块生成，停止挖矿</div><div class="line">&gt; miner.stop();</div><div class="line"></div><div class="line">// 查看合约是否部署成功</div><div class="line">&gt; eth.getCode(coinContractIns.address)</div><div class="line"><span class="string">"0x608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063075461721461006757806327e235e31461</span></div><div class="line">b600080fd5b34801561007357600080fd5b5061007c6101af565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff</div><div class="line">00080fd5b506100ff600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506101d4565b6040518082815260200191505060405180</div><div class="line">..."</div><div class="line">// 合约部署成功</div><div class="line"></div><div class="line"></div><div class="line">//解锁账户</div><div class="line">&gt; eth.defaultAccount=eth.coinbase</div><div class="line"><span class="string">"0x33213084015dab454fee16eb369fa2a8e6e65eee"</span> // coinbase 账户</div><div class="line">&gt; personal.unlockAccount(eth.coinbase)</div><div class="line">Unlock account 0x33213084015dab454fee16eb369fa2a8e6e65eee</div><div class="line">Passphrase:</div><div class="line"><span class="literal">true</span></div><div class="line"></div><div class="line">// 查看账户在合约中的余额</div><div class="line">&gt; coinContractIns.balances(<span class="string">"0x33213084015DAB454fEe16eb369FA2a8E6E65eEE"</span>) //替换成自己的 coinbase 账户</div><div class="line">0</div><div class="line">// 由于合约没有被执行，合约中的余额为 0</div><div class="line"></div><div class="line">// 通过合约中的 mint 接口设置 coinbase 账户在合约中的 coin 数目为 30000 。</div><div class="line">&gt; coinContractIns.mint(<span class="string">"0x33213084015DAB454fEe16eb369FA2a8E6E65eEE"</span>, 30000);</div><div class="line">INFO [10-07|12:37:31.191] Submitted transaction                    fullhash=0x788857480e7c33d59f5893e7287c697d33e5ad29a52817e19930ec26178e62b3 recipient=0x7227255a42b1</div><div class="line"><span class="string">"0x788857480e7c33d59f5893e7287c697d33e5ad29a52817e19930ec26178e62b3"</span></div><div class="line"></div><div class="line">// 上述操作并未执行，需要启动挖矿</div><div class="line">&gt; miner.start();</div><div class="line">&gt; // 等待约 12 以上区块生成，停止挖矿</div><div class="line">&gt; miner.stop();</div><div class="line"></div><div class="line">// 挖矿结束，查看 coinbase 账户 coin 数量</div><div class="line">&gt; coinContractIns.balances(<span class="string">"0x33213084015DAB454fEe16eb369FA2a8E6E65eEE"</span>)</div><div class="line">30000</div><div class="line"></div><div class="line">//解锁 coinbase 账户，进行交易</div><div class="line">&gt; personal.unlockAccount(eth.coinbase)</div><div class="line">Unlock account 0x33213084015dab454fee16eb369fa2a8e6e65eee</div><div class="line">Passphrase:</div><div class="line"><span class="literal">true</span></div><div class="line">// 发送给账户 0x55213084015DAB454fEe16eb369FA2a8E6E65ebb（这个账户可以随意填写，保证 20 Byte）10000 个 coin</div><div class="line">&gt; coinContractIns.send(<span class="string">"0x55213084015DAB454fEe16eb369FA2a8E6E65ebb"</span>, 10000);</div><div class="line">INFO [10-07|12:47:17.161] Submitted transaction                    fullhash=0xf0ec8dc4daf6d85cf55be8289a37fbd271437658b2a02<span class="built_in">fc</span>330272403192d863e recipient=0x7227255a42</div><div class="line"><span class="string">"0xf0ec8dc4daf6d85cf55be8289a37fbd271437658b2a02fc330272403192d863e"</span></div><div class="line">// 交易还未执行，这个账户余额还是 0 </div><div class="line">&gt; coinContractIns.balances(<span class="string">"0x55213084015DAB454fEe16eb369FA2a8E6E65ebb"</span>)</div><div class="line">0</div><div class="line">// 上述操作并未执行，需要启动挖矿</div><div class="line">&gt; miner.start();</div><div class="line">&gt; // 等待约 12 以上区块生成，停止挖矿</div><div class="line">&gt; miner.stop();</div><div class="line"></div><div class="line">// 挖矿结束，查看账户的 coin 余额，合约执行成功。</div><div class="line">&gt; coinContractIns.balances(<span class="string">"0x55213084015DAB454fEe16eb369FA2a8E6E65ebb"</span>)</div><div class="line">10000</div><div class="line">&gt; coinContractIns.balances(<span class="string">"0x33213084015DAB454fEe16eb369FA2a8E6E65eEE"</span>)</div><div class="line">20000</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<h3 id="Mist-部署智能合约"><a href="#Mist-部署智能合约" class="headerlink" title="Mist 部署智能合约"></a>Mist 部署智能合约</h3><p>通过 Mist 部署智能合约非常简单方便。打开 Mist ，选择【CONTRACT】-&gt;【DEPLOY NEW CONTRACT】，在 【SOLIDITY CONTRACT SOURCE CODE】 中，将 coin 例子代码粘贴进来，将合约改为 LTCCoin 。</p>
<p><img src="http://pg12w9eve.bkt.clouddn.com/mist_dep_code.png" alt="mist_depo_code"><br><a href="https://github.com/EthFans/wiki/wiki/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6" target="_blank" rel="external">https://github.com/EthFans/wiki/wiki/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6</a><br>点击【DEPLOY】输入账户密码创建合约（这里创建账户选择 Account1）。</p>
<p><img src="http://pg12w9eve.bkt.clouddn.com/mist_deping.png" alt="mist_depoing"></p>
<p>点击【WALLETS】在下面的【Latest Transaction】可以看到合约正在创建中，这里需要在 Geth Console 启动挖矿，合约才能创建成功，当然进行任何交易操作都需要挖矿来完成。</p>
<p><img src="http://pg12w9eve.bkt.clouddn.com/mist_deping_2.png" alt="mist_depoing2"></p>
<p>挖矿后，选择【CONTRACT】查看合约部署成功。</p>
<p><img src="http://pg12w9eve.bkt.clouddn.com/mist_dep_success.png" alt="mist_dep_success"></p>
<p>然后在右侧【Select function】选择相应操作，注意执行 <code>mint</code> 函数执行账户需要选择为创建账户 Account1 ，交易成功需要挖矿。</p>
<p><img src="http://pg12w9eve.bkt.clouddn.com/mist_mint.png" alt="mist_mint"> </p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/EthFans/wiki/wiki/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6" target="_blank" rel="external">https://github.com/EthFans/wiki/</a><br><a href="https://solidity.readthedocs.io/en/develop/introduction-to-smart-contracts.html" target="_blank" rel="external">https://solidity.readthedocs.io</a></p>

		﻿<div> 
<h1><b>联系我</b></h1>
<p align="center">Wechat ID</p>
<p align="center"><img src="/images/wechat_contact.png"  style="margin-top: 20px; width: 40%; height: 40%"/></p>
<p align="center">公众号</p>
<p align="center"><img src="/images/wx_account.jpg"  style="margin-top: 20px; width: 40%; height: 40%"/></p>

</div>  
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>生活不止于眼前的苟且, 还有诗和远方的田野</div>
	<br>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/wechat_collect_qrcode.png" alt="haohao WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/alipay.jpg" alt="haohao Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/区块链/" rel="tag"># 区块链</a>
          
            <a href="/tags/以太坊/" rel="tag"># 以太坊</a>
          
            <a href="/tags/智能合约/" rel="tag"># 智能合约</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/02/Building-a-private-chain-based-on-Ethereum/" rel="next" title="基于以太坊搭建私有链">
                <i class="fa fa-chevron-left"></i> 基于以太坊搭建私有链
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars0.githubusercontent.com/u/17926884?v=3&s=460"
               alt="haohao" />
          <p class="site-author-name" itemprop="name">haohao</p>
          <p class="site-description motion-element" itemprop="description">不忘初心</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">48</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">20</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">49</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/githubhaohao" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzIwNTIwMzAzNg==&hid=3&sn=e44bb74d37b8a867862a60741b6e4c4f&scene=18&uin=&key=&devicetype=Windows+7&version=62060028&lang=zh_CN&ascene=7&winzoom=1" target="_blank" title="WeChat">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  WeChat
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#智能合约"><span class="nav-number">1.</span> <span class="nav-text">智能合约</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#部署智能合约"><span class="nav-number">2.</span> <span class="nav-text">部署智能合约</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#以太坊命令行客户端部署"><span class="nav-number">2.1.</span> <span class="nav-text">以太坊命令行客户端部署</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mist-部署智能合约"><span class="nav-number">2.2.</span> <span class="nav-text">Mist 部署智能合约</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考"><span class="nav-number">3.</span> <span class="nav-text">参考</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    Powered by
  </span>
  <a class="theme-link" href="http://haohaochang.cn/">
    haohao
  </a>
</div>

        

<div class="theme-info" align="center">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'githubhaohao-github-io';
      var disqus_identifier = '2018/10/07/Deploy-smart-contracts-on-the-Ethereum-private-chain/';

      var disqus_title = "在以太坊私有链上部署智能合约";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      

    </script>
  









  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("p6dxCQ5K1YJq8tmDcWCGbodE-gzGzoHsz", "HWiui0v5fOotru1XABNOYgVt");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


</body>
</html>
